# [neopixel case]
# pin: host:gpio18
# chain_count: 10
# color_order: RGB
# initial_RED: 1.0
# initial_GREEN: 1.0
# initial_BLUE: 1.0

[gcode_macro PIXEL_RED]
gcode:
    SET_LED LED=Pixel RED=1.0 GREEN=0.0 BLUE=0.0 TRANSMIT=1

[gcode_macro PIXEL_GREEN]
gcode:
    SET_LED LED=Pixel RED=0.0 GREEN=1.0 BLUE=0.0 TRANSMIT=1

[gcode_macro PIXEL_BLUE]
gcode:
    SET_LED LED=Pixel RED=0.0 GREEN=0.0 BLUE=1.0 TRANSMIT=1

[gcode_macro PIXEL_DARK]
gcode:
    SET_LED LED=Pixel RED=0.0 GREEN=0.0 BLUE=0.0 TRANSMIT=1

[gcode_macro PIXEL_RGB]
gcode:
  {% for index in range(16) %}
    SET_LED LED=Pixel RED=1.0 GREEN=0.0 BLUE=0.0 INDEX={index+1} TRANSMIT=1
    G4 P100
  {% endfor %}
  {% for index in range(16) %}
    SET_LED LED=Pixel RED=0.0 GREEN=1.0 BLUE=0.0 INDEX={index+1} TRANSMIT=1
    G4 P100
  {% endfor %}
  {% for index in range(16) %}
    SET_LED LED=Pixel RED=0.0 GREEN=0.0 BLUE=1.0 INDEX={index+1} TRANSMIT=1
    G4 P100
  {% endfor %}

[gcode_macro PIXEL_RAINBOW]
gcode:
  {% for index in range(16) %}
    SET_LED LED=Pixel RED=1.0 GREEN=0.0 BLUE=0.0 INDEX={index+1} TRANSMIT=1
    {% if index > 1 %}
      SET_LED LED=Pixel RED=0.0 GREEN=0.0 BLUE=0.0 INDEX={index-1} TRANSMIT=1
    {% endif %}
    G4 P10
  {% endfor %}
  {% for index in range(16,1,1) %}
    SET_LED LED=Pixel RED=0.0 GREEN=1.0 BLUE=0.0 INDEX={index-1} TRANSMIT=1
    {% if index < 16 %}
      SET_LED LED=Pixel RED=0.0 GREEN=0.0 BLUE=0.0 INDEX={index+1} TRANSMIT=1
    {% endif %}
    G4 P10
  {% endfor %}

[gcode_macro CASE_ON]
gcode: 
  SET_PIN PIN=mosfet0 VALUE=1

[gcode_macro CASE_OFF]
gcode: 
  SET_PIN PIN=mosfet0 VALUE=0